/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package com.egain.sdk;

import static com.egain.sdk.operations.Operations.AsyncRequestOperation;

import com.egain.sdk.models.components.KnowledgeExport;
import com.egain.sdk.models.operations.ExportStatusRequest;
import com.egain.sdk.models.operations.async.ExportContentRequestBuilder;
import com.egain.sdk.models.operations.async.ExportContentResponse;
import com.egain.sdk.models.operations.async.ExportStatusRequestBuilder;
import com.egain.sdk.models.operations.async.ExportStatusResponse;
import com.egain.sdk.operations.ExportContent;
import com.egain.sdk.operations.ExportStatus;
import com.egain.sdk.utils.Headers;
import jakarta.annotation.Nonnull;
import java.lang.String;
import java.util.concurrent.CompletableFuture;


public class AsyncExport {
    private static final Headers _headers = Headers.EMPTY;
    private final SDKConfiguration sdkConfiguration;
    private final Export syncSDK;

    AsyncExport(Export syncSDK, SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.syncSDK = syncSDK;
    }

    /**
     * Switches to the sync SDK.
     * 
     * @return The sync SDK
     */
    public Export sync() {
        return syncSDK;
    }


    /**
     * Export Knowledge
     * 
     * <p>## Overview
     * The Content Export API initiates a bulk export of the Knowledge Hub to a client-provided Amazon S3
     * bucket or SFTP server path.
     * It returns a URL with a Job ID to enable tracking the status of this asynchronous operation.
     * Each export job can send multiple JSON files, depending on the total number of items to process.
     * More than one bulk export can take place, as needed, one per portal.
     * 
     * <p>## Permission
     * * Only a client application can invoke this API.
     * 
     * @return The async call builder
     */
    public ExportContentRequestBuilder exportContent() {
        return new ExportContentRequestBuilder(sdkConfiguration);
    }

    /**
     * Export Knowledge
     * 
     * <p>## Overview
     * The Content Export API initiates a bulk export of the Knowledge Hub to a client-provided Amazon S3
     * bucket or SFTP server path.
     * It returns a URL with a Job ID to enable tracking the status of this asynchronous operation.
     * Each export job can send multiple JSON files, depending on the total number of items to process.
     * More than one bulk export can take place, as needed, one per portal.
     * 
     * <p>## Permission
     * * Only a client application can invoke this API.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return {@code CompletableFuture<ExportContentResponse>} - The async response
     */
    public CompletableFuture<ExportContentResponse> exportContent(@Nonnull KnowledgeExport request) {
        AsyncRequestOperation<KnowledgeExport, ExportContentResponse> operation
              = new ExportContent.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get Export Job Status
     * 
     * <p>## Overview
     * The Content Export Status API provides real-time status information to monitor job progress and
     * check completion status.
     * 
     * <p>## Status Values
     * - **Pending**: Job is pending start of processing
     * - **In Progress**: Job is actively processing content
     * - **Completed**: Job finished successfully
     * - **Failed**: Job encountered errors and could not complete
     * 
     * <p>## Response Information
     * - **Current Status**: Real-time job status
     * - **Progress Metrics**: Items processed, total items
     * - **Error Details**: Specific errors encountered during processing
     * - **Timing Information**: Start time, estimated completion, actual completion
     * 
     * <p>## Permission
     * * Only a client application can invoke this API.
     * 
     * @return The async call builder
     */
    public ExportStatusRequestBuilder exportStatus() {
        return new ExportStatusRequestBuilder(sdkConfiguration);
    }

    /**
     * Get Export Job Status
     * 
     * <p>## Overview
     * The Content Export Status API provides real-time status information to monitor job progress and
     * check completion status.
     * 
     * <p>## Status Values
     * - **Pending**: Job is pending start of processing
     * - **In Progress**: Job is actively processing content
     * - **Completed**: Job finished successfully
     * - **Failed**: Job encountered errors and could not complete
     * 
     * <p>## Response Information
     * - **Current Status**: Real-time job status
     * - **Progress Metrics**: Items processed, total items
     * - **Error Details**: Specific errors encountered during processing
     * - **Timing Information**: Start time, estimated completion, actual completion
     * 
     * <p>## Permission
     * * Only a client application can invoke this API.
     * 
     * @param jobID **Example Usage:**
     *         ```bash
     *         GET /content/export/7A84B875-6F75-4C7B-B137-0632B62DB0BD/status
     *         ```
     *         
     * @return {@code CompletableFuture<ExportStatusResponse>} - The async response
     */
    public CompletableFuture<ExportStatusResponse> exportStatus(@Nonnull String jobID) {
        ExportStatusRequest request = new ExportStatusRequest(jobID);
        AsyncRequestOperation<ExportStatusRequest, ExportStatusResponse> operation
              = new ExportStatus.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }

}
