/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package com.egain.sdk;

import static com.egain.sdk.operations.Operations.AsyncRequestOperation;

import com.egain.sdk.models.components.AcceptLanguage;
import com.egain.sdk.models.components.MandatoryLanguageQueryParameter;
import com.egain.sdk.models.components.StartEscalationRequest;
import com.egain.sdk.models.operations.AvertCustomerEscalationRequest;
import com.egain.sdk.models.operations.CompleteCustomerEscalationRequest;
import com.egain.sdk.models.operations.SearchPriorToEscalationRequest;
import com.egain.sdk.models.operations.StartCustomerEscalationRequest;
import com.egain.sdk.models.operations.async.AvertCustomerEscalationRequestBuilder;
import com.egain.sdk.models.operations.async.AvertCustomerEscalationResponse;
import com.egain.sdk.models.operations.async.CompleteCustomerEscalationRequestBuilder;
import com.egain.sdk.models.operations.async.CompleteCustomerEscalationResponse;
import com.egain.sdk.models.operations.async.SearchPriorToEscalationRequestBuilder;
import com.egain.sdk.models.operations.async.SearchPriorToEscalationResponse;
import com.egain.sdk.models.operations.async.StartCustomerEscalationRequestBuilder;
import com.egain.sdk.models.operations.async.StartCustomerEscalationResponse;
import com.egain.sdk.operations.AvertCustomerEscalation;
import com.egain.sdk.operations.CompleteCustomerEscalation;
import com.egain.sdk.operations.SearchPriorToEscalation;
import com.egain.sdk.operations.StartCustomerEscalation;
import com.egain.sdk.utils.Headers;
import jakarta.annotation.Nonnull;
import java.lang.String;
import java.util.concurrent.CompletableFuture;


public class AsyncEscalation {
    private static final Headers _headers = Headers.EMPTY;
    private final SDKConfiguration sdkConfiguration;
    private final Escalation syncSDK;

    AsyncEscalation(Escalation syncSDK, SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.syncSDK = syncSDK;
    }

    /**
     * Switches to the sync SDK.
     * 
     * @return The sync SDK
     */
    public Escalation sync() {
        return syncSDK;
    }


    /**
     * Start Customer Escalation
     * 
     * <p>## Overview
     * The Start Escalation API is called to initiate an escalation and it must be called before any other
     * escalation API.
     * An escalation occurs when a customer is referred to a higher level of support, such as chat or
     * email, to address their issue.
     * This process is initiated when the initial support resources are insufficient by themselves.
     * 
     * <p>Customer object is optional for authenticated customers. Values provided in request takes precedence
     * over the values provided during customer registration.
     * 
     * @return The async call builder
     */
    public StartCustomerEscalationRequestBuilder startCustomerEscalation() {
        return new StartCustomerEscalationRequestBuilder(sdkConfiguration);
    }

    /**
     * Start Customer Escalation
     * 
     * <p>## Overview
     * The Start Escalation API is called to initiate an escalation and it must be called before any other
     * escalation API.
     * An escalation occurs when a customer is referred to a higher level of support, such as chat or
     * email, to address their issue.
     * This process is initiated when the initial support resources are insufficient by themselves.
     * 
     * <p>Customer object is optional for authenticated customers. Values provided in request takes precedence
     * over the values provided during customer registration.
     * 
     * @param acceptLanguage 
     * @param portalID The ID of the portal being accessed.<br><br>A portal ID is composed of a 2-4 letter prefix, followed by a dash and 4-15 digits.
     * @param language 
     * @param body 
     * @return {@code CompletableFuture<StartCustomerEscalationResponse>} - The async response
     */
    public CompletableFuture<StartCustomerEscalationResponse> startCustomerEscalation(
            @Nonnull AcceptLanguage acceptLanguage, @Nonnull String portalID,
            @Nonnull MandatoryLanguageQueryParameter language, @Nonnull StartEscalationRequest body) {
        StartCustomerEscalationRequest request = new StartCustomerEscalationRequest(
                acceptLanguage, portalID, language,
                body);
        AsyncRequestOperation<StartCustomerEscalationRequest, StartCustomerEscalationResponse> operation
              = new StartCustomerEscalation.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Search Prior To Customer Escalation
     * 
     * <p>## Overview
     * The Search Prior to Customer Escalation API performs search on the subject and description
     * parameters, but filters out any articles that the customer has viewed in the current session.
     * 
     * @return The async call builder
     */
    public SearchPriorToEscalationRequestBuilder searchPriorToEscalation() {
        return new SearchPriorToEscalationRequestBuilder(sdkConfiguration);
    }

    /**
     * Search Prior To Customer Escalation
     * 
     * <p>## Overview
     * The Search Prior to Customer Escalation API performs search on the subject and description
     * parameters, but filters out any articles that the customer has viewed in the current session.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return {@code CompletableFuture<SearchPriorToEscalationResponse>} - The async response
     */
    public CompletableFuture<SearchPriorToEscalationResponse> searchPriorToEscalation(@Nonnull SearchPriorToEscalationRequest request) {
        AsyncRequestOperation<SearchPriorToEscalationRequest, SearchPriorToEscalationResponse> operation
              = new SearchPriorToEscalation.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Complete Customer Escalation
     * 
     * <p>## Overview
     * The Complete Customer Escalation API allows customer to complete escalation and send an email to a
     * customer service agent on behalf of the customer.
     * 
     * <p>After invoking the Complete Escalation or Avert Escalation APIs, the escalation ID associated with
     * the escalation becomes invalid.
     * **Important:** Further attempts to use or reference the same escalation ID results in an error or
     * failure.
     * 
     * @return The async call builder
     */
    public CompleteCustomerEscalationRequestBuilder completeCustomerEscalation() {
        return new CompleteCustomerEscalationRequestBuilder(sdkConfiguration);
    }

    /**
     * Complete Customer Escalation
     * 
     * <p>## Overview
     * The Complete Customer Escalation API allows customer to complete escalation and send an email to a
     * customer service agent on behalf of the customer.
     * 
     * <p>After invoking the Complete Escalation or Avert Escalation APIs, the escalation ID associated with
     * the escalation becomes invalid.
     * **Important:** Further attempts to use or reference the same escalation ID results in an error or
     * failure.
     * 
     * @param acceptLanguage 
     * @param portalID The ID of the portal being accessed.<br><br>A portal ID is composed of a 2-4 letter prefix, followed by a dash and 4-15 digits.
     * @param escalationId The ID (uuid) of the customer escalation.
     *         
     * @return {@code CompletableFuture<CompleteCustomerEscalationResponse>} - The async response
     */
    public CompletableFuture<CompleteCustomerEscalationResponse> completeCustomerEscalation(
            @Nonnull AcceptLanguage acceptLanguage, @Nonnull String portalID,
            @Nonnull String escalationId) {
        CompleteCustomerEscalationRequest request = new CompleteCustomerEscalationRequest(acceptLanguage, portalID, escalationId);
        AsyncRequestOperation<CompleteCustomerEscalationRequest, CompleteCustomerEscalationResponse> operation
              = new CompleteCustomerEscalation.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Avert Customer Escalation
     * 
     * <p>## Overview
     * The Avert Customer Escalation API notifies the server that escalation to a live agent has been
     * averted. Usually this means that the customer found the information they needed.
     * 
     * <p>After invoking the Complete Escalation or Avert Escalation APIs, the escalation ID associated with
     * the escalation becomes invalid.
     * **Important:** Further attempts to use or reference the same escalation ID results in an error or
     * failure.
     * 
     * @return The async call builder
     */
    public AvertCustomerEscalationRequestBuilder avertCustomerEscalation() {
        return new AvertCustomerEscalationRequestBuilder(sdkConfiguration);
    }

    /**
     * Avert Customer Escalation
     * 
     * <p>## Overview
     * The Avert Customer Escalation API notifies the server that escalation to a live agent has been
     * averted. Usually this means that the customer found the information they needed.
     * 
     * <p>After invoking the Complete Escalation or Avert Escalation APIs, the escalation ID associated with
     * the escalation becomes invalid.
     * **Important:** Further attempts to use or reference the same escalation ID results in an error or
     * failure.
     * 
     * @param acceptLanguage 
     * @param portalID The ID of the portal being accessed.<br><br>A portal ID is composed of a 2-4 letter prefix, followed by a dash and 4-15 digits.
     * @param escalationId The ID (uuid) of the customer escalation.
     *         
     * @return {@code CompletableFuture<AvertCustomerEscalationResponse>} - The async response
     */
    public CompletableFuture<AvertCustomerEscalationResponse> avertCustomerEscalation(
            @Nonnull AcceptLanguage acceptLanguage, @Nonnull String portalID,
            @Nonnull String escalationId) {
        AvertCustomerEscalationRequest request = new AvertCustomerEscalationRequest(acceptLanguage, portalID, escalationId);
        AsyncRequestOperation<AvertCustomerEscalationRequest, AvertCustomerEscalationResponse> operation
              = new AvertCustomerEscalation.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }

}
